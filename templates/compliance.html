{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h1>Compliance: {{ vehicle.plate_number }}</h1>
        </div>
        <div class="card-body">
            <form method="POST">
                <div class="row g-3">
                    <div class="col-md-6">
                        <label class="form-label">Insurance Type</label>
                        <select class="form-select" name="insurance_type" required>
                            <option value="{{ compliance.insurance_type or '' }}" selected>{{ compliance.insurance_type or 'Select Insurance' }}</option>
                            <option value="Fully Insured">Fully Insured</option>
                            <option value="Partial">Partial</option>
                        </select>
                    </div>
                    
                    <div class="col-md-6">
                        <label class="form-label">Insurance Date</label>
                        <input type="date" class="form-control" name="insurance_date" value="{{ compliance.insurance_date or '' }}">
                    </div>
                    
                    <div class="col-md-6">
                        <label class="form-label">Yearly Inspection</label>
                        <select class="form-select" name="yearly_inspection" required>
                            <option value="{{ compliance.yearly_inspection or '' }}" selected>{{ compliance.yearly_inspection or 'Select Inspection' }}</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    
                    <div class="col-md-6">
                        <label class="form-label">Inspection Date</label>
                        <input type="date" class="form-control" name="inspection_date" value="{{ compliance.inspection_date or '' }}">
                    </div>
                    
                    <div class="col-md-6">
                        <label class="form-label">Safety Audit</label>
                        <select class="form-select" name="safety_audit" required>
                            <option value="{{ compliance.safety_audit or '' }}" selected>{{ compliance.safety_audit or 'Select Audit Result' }}</option>
                            <option value="Safe">Safe</option>
                            <option value="Fair">Fair</option>
                            <option value="Not Safe">Not Safe</option>
                        </select>
                    </div>
                    
                    <div class="col-12">
                        <label class="form-label">Utilization History</label>
                        <textarea class="form-control" name="utilization_history" rows="3">{{ compliance.utilization_history or '' }}</textarea>
                    </div>
                    
                    <div class="col-12">
                        <label class="form-label">Accident History</label>
                        <textarea class="form-control" name="accident_history" rows="3">{{ compliance.accident_history or '' }}</textarea>
                    </div>
                    
                    <div class="col-12">
                        <button type="submit" class="btn btn-success">
                            <i class="bi bi-save"></i> Save Compliance
                        </button>
                        <a href="/vehicles" class="btn btn-secondary">
                            <i class="bi bi-x-circle"></i> Back to Vehicles
                        </a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
